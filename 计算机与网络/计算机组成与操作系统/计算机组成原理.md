中断发生原理
溢出
![image-20210123221920569](../../img/image-20210123221920569.png)



### 2.数据

数据的表示与运算

冯诺依曼思想包含哪些要点？

1. ```
   1. 计算机硬件系统由五大部件（存储器，运算器，控制器，输入设备，输出设备）组成；
   2. 计算机中采用二进制形式表示信息（数据，指令）；
   3. 采用存储程序的工作方式；
   ```

   ![image-20201119191047775](../../img/image-20201119191047775.png)

计算机有哪些主要性能指标？



基本字长/外频/cpu的综合性能/数据的通路宽度与数据传输率/存储容量

#### 计算机性能指标

##### 系统整体的性能指标

![image-20201119195343911](../../img/image-20201119195343911.png)





##### 存储器

MAR MDR

![image-20201119192056187](../../img/image-20201119192056187.png)



##### CPU

CPU时钟周期，时钟频率，CPI ，IPS

![image-20201119193834563](../../img/image-20201119193834563.png)

![image-20201119192352505](../../img/image-20201119192352505.png)

![image-20201119192509695](../../img/image-20201119192509695.png)



![image-20201119192731001](../../img/image-20201119192731001.png)



![image-20201119192759394](../../img/image-20201119192759394.png)



主频是每秒钟又多少个时钟周期



![image-20201119193157653](../../img/image-20201119193157653.png)

![image-20201119195143023](../../img/image-20201119195143023.png)

![image-20201119193453429](../../img/image-20201119193453429.png)

![image-20201119193623358](../../img/image-20201119193623358.png)

![image-20201119193759000](../../img/image-20201119193759000.png)



![image-20201119194833345](../../img/image-20201119194833345.png)

#### 进制转换

![image-20201119195649734](../../img/image-20201119195649734.png)











<img src="../../img/image-20201119192204095.png" alt="image-20201119192204095" style="zoom:200%;" />



![image-20201119195907704](../../img/image-20201119195907704.png)


![image-20201119200305720](../../img/image-20201119200305720.png)







#### 计算机硬件的典型框架

![image-20201119200808707](../../img/image-20201119200808707.png)



<img src="../../img/image-20201119200822219.png" alt="image-20201119200822219" style="zoom: 67%;" />



![image-20201119200917328](../../img/image-20201119200917328.png)







![image-20201119200940415](../../img/image-20201119200940415.png)



### 数据的表示

![image-20201119201216892](../../img/image-20201119201216892.png)



![image-20201119201234405](../../img/image-20201119201234405.png)

#### 十进制转二进制

![image-20201119201609193](../../img/image-20201119201609193.png)

二进制转化为十进制

![image-20201119201658508](../../img/image-20201119201658508.png)

![image-20201119201950548](../../img/image-20201119201950548.png)



![image-20201119202204976](../../img/image-20201119202204976.png)

![image-20201119220909368](../../img/image-20201119220909368.png)

![image-20201119221200944](../../img/image-20201119221200944.png)

![image-20201119220941136](../../img/image-20201119220941136.png)

![image-20201119221727824](../../img/image-20201119221727824.png)

原码与补码转换



![image-20201119203444511](../../img/image-20201119203444511.png)



![image-20201119204101257](../../img/image-20201119204101257.png)

一般来说，补码就是原码取反加一，还原成原码的时候应该先减去一再取反 在二进制里，"减一取反"和"取反加一"等价，所以我们可以这么做

![image-20201119205210581](../../img/image-20201119205210581.png)

![image-20201119204534773](../../img/image-20201119204534773.png)

#### 浮点数





![image-20201119205439977](../../img/image-20201119205439977.png)

![image-20201119205529075](../../img/image-20201119205529075.png)

![image-20201119205701493](../../img/image-20201119205701493.png)

![image-20201119205726264](../../img/image-20201119205726264.png)



![image-20201119210101031](../../img/image-20201119210101031.png)



![image-20201119210516368](../../img/image-20201119210516368.png)





![image-20201119211033636](../../img/image-20201119211033636.png)



![image-20201119211409539](../../img/image-20201119211409539.png)





##### 移位

![image-20201119211637755](../../img/image-20201119211637755.png)

![image-20201119212502975](../../img/image-20201119212502975.png)



<img src="../../img/image-20201119212629461.png" alt="image-20201119212629461"  />

![image-20201119212927163](../../img/image-20201119212927163.png)

![image-20201119213114810](../../img/image-20201119213114810.png)



ASCLL码

![image-20201119213538947](../../img/image-20201119213538947.png)



10111010BA  

左移：11110100 F4

右移：11011101 DD

#### 溢出判断

#### 基本运算方法

##### ①定点加减运算

![image-20201122154333549](../../img/image-20201122154333549.png)

![image-20201122155333048](../../img/image-20201122155333048.png)

##### ②溢出判断

![image-20201122155733126](../../img/image-20201122155733126.png)







#### 常用数据校验方法

###### ASCLL码

<img src="../../img/image-20201122153956636.png" alt="image-20201122153956636"  />

###### **汉字点阵**

![image-20201122154125267](../../img/image-20201122154125267.png)

##### ①奇偶校验码

![image-20201122161116199](../../img/image-20201122161116199.png)

![image-20201122161214891](../../img/image-20201122161214891.png)

![image-20201122161519878](../../img/image-20201122161519878.png)

 ![image-20201122161629200](../../img/image-20201122161629200.png)

##### ②海明校验

![image-20201122162414823](../../img/image-20201122162414823.png)

![image-20201122162537003](../../img/image-20201122162537003.png)

![image-20201122163044536](../../img/image-20201122163044536.png)

 

##### ③循环冗余验证

![image-20201122164657677](../../img/image-20201122164657677.png)

![image-20201122164726124](../../img/image-20201122164726124.png)

![image-20201122164814362](../../img/image-20201122164814362.png)

![image-20201122164906166](../../img/image-20201122164906166.png)







---





### 3.CPU子系统

#### 3.1

​    **运算部件（** **ALU** **）**

​          **寄存器组**

​           **微命令产生部件**

​           **时序系统**

​          **CPU ** **内部数据通路**





![image-20201119214903953](../../img/image-20201119214903953.png)



![image-20201119215044519](../../img/image-20201119215044519.png)



**、时序系统**
**指令周期**：取出并执行一条指令所需时间。
    通常一个指令周期包含3--4个机器周期。如取指令周期
、取操作数周期、指令执行周期等。
**机器周期(**又称CPU周期或工作周期)：机器周期对应指令
执行的不同阶段，如取指令、取操作数、执行等阶段。各阶
段长短不一，按最长的阶段来划分机器周期。通常一个机器
周期包含4个时钟周期 T1-T4。
**时钟周期**（又称节拍或 T 周期）：对应基本定时信号，
由它确定主时钟频率

![image-20201119215916215](../../img/image-20201119215916215.png)



**1、CPU的主要功能**
**指令控制**：控制程序执行顺序，如：逐条执行或跳转执行；
**操作控制**：产生每条指令所需的控制命令；
**时间控制**：产生操作时序，按时间顺序启动各类操作；
**数据加工**：对数据进行算术运算和逻辑运算处理
**中断处理**：对计算机中出现的异常情况和特殊请求进行处理

#### PSW

程序状态字寄存器

![image-20201121174821706](../../img/image-20201121174821706.png)

#### 3.2指令系统



![image-20201121181746215](../../img/image-20201121181746215.png)

![image-20201121181801022](../../img/image-20201121181801022.png)



![image-20201121181934000](../../img/image-20201121181934000.png)



![image-20201121182027823](../../img/image-20201121182027823.png)



![image-20201121182123541](../../img/image-20201121182123541.png)

![image-20201121182130786](../../img/image-20201121182130786.png)

![image-20201121182149416](../../img/image-20201121182149416.png)

![image-20201121182337535](../../img/image-20201121182337535.png)



![image-20201121184230243](../../img/image-20201121184230243.png)

![image-20201121184419326](../../img/image-20201121184419326.png)



![image-20201121184513614](../../img/image-20201121184513614.png)



![image-20201121184535250](../../img/image-20201121184535250.png)



![image-20201121184843674](../../img/image-20201121184843674.png)



![image-20201121185351014](../../img/image-20201121185351014.png)



![image-20201121185425873](../../img/image-20201121185425873.png)

![image-20201121185602310](../../img/image-20201121185602310.png)

##### 5，PC寻址（相对寻址）

![image-20201121185710120](../../img/image-20201121185710120.png)

##### 6，页面寻址

![image-20201121185954775](../../img/image-20201121185954775.png)

![image-20201121190134889](../../img/image-20201121190134889.png)

有效利用寻址空间

![image-20201121190228230](../../img/image-20201121190228230.png)



![image-20201121191627591](../../img/image-20201121191627591.png)

![image-20201121191734249](../../img/image-20201121191734249.png)



![image-20201121191752158](../../img/image-20201121191752158.png)





MIPS指令集，寄存器分配

![image-20201121192700766](../../img/image-20201121192700766.png)





![image-20201121194915534](../../img/image-20201121194915534.png)

R 寄存器I立即数 J 跳转

![image-20201121194931941](../../img/image-20201121194931941.png)





##### 11.堆栈寻址

![image-20201121195411107](../../img/image-20201121195411107.png)

##### 总结 常见寻址

![image-20201121195505186](../../img/image-20201121195505186.png)



![image-20201121200601977](../../img/image-20201121200601977.png)



![image-20201121202729426](../../img/image-20201121202729426.png)

![image-20201121202744605](../../img/image-20201121202744605.png)

![image-20201121202817673](../../img/image-20201121202817673.png)

![image-20201121202856462](../../img/image-20201121202856462.png)



#### 指令系统设计与分析





![image-20201121204242631](../../img/image-20201121204242631.png)

#### 指令字长

![image-20201121210316172](../../img/image-20201121210316172.png)







#### 操作指令计算

扩展指令格式与数目

![image-20201121210203412](../../img/image-20201121210203412.png)

![image-20201121211842771](../../img/image-20201121211842771.png)

![image-20201121200601977](file://D:/Vs%20Workstation/note/img/image-20201121200601977.png?lastModify=1605965010)



#### 3-3CPU设计模型

![image-20201121213704074](../../img/image-20201121213704074.png)

![image-20201121213832712](../../img/image-20201121213832712.png)

![image-20201121213847792](../../img/image-20201121213847792.png)

![image-20201121214002353](../../img/image-20201121214002353.png)



![image-20201121214228744](../../img/image-20201121214228744.png)



![image-20201121214335262](../../img/image-20201121214335262.png)

![image-20201121214730829](../../img/image-20201121214730829.png)

![image-20201121214823984](../../img/image-20201121214823984.png)

![image-20201121215258880](../../img/image-20201121215258880.png)

![image-20201121215333406](../../img/image-20201121215333406.png)

![image-20201121215432266](../../img/image-20201121215432266.png)



##### 逻辑运算实现

![image-20201122113325078](../../img/image-20201122113325078.png)

32位或运算

![image-20201122113403745](../../img/image-20201122113403745.png)



![image-20201122113509214](../../img/image-20201122113509214.png)

##### 加法实现

半加器

![image-20201122131906158](../../img/image-20201122131906158.png)

异或门与与门

![image-20201122132039546](../../img/image-20201122132039546.png)

##### 四位加法器

![image-20201122132502955](../../img/image-20201122132502955.png)



32位

![image-20201122132522712](../../img/image-20201122132522712.png)







![Screenshot_2020-11-22-03-37-51-647_tv.danmaku.bili](../../img/Screenshot_2020-11-22-03-37-51-647_tv.danmaku.bili.jpg)

![Screenshot_2020-11-22-02-36-16-297_tv.danmaku.bili](../../img/Screenshot_2020-11-22-02-36-16-297_tv.danmaku.bili-1606022989368.jpg)

![image-20201122135658190](../../img/image-20201122135658190.png)



###### 溢出判断

![image-20201122135734705](../../img/image-20201122135734705.png)

![image-20201122135752456](../../img/image-20201122135752456.png)

使用异或门判断是否溢出

如果a、b两个值不相同，则异或结果为1。如果a、b两个值相同，异或结果为0

![image-20201122140004858](../../img/image-20201122140004858.png)

![image-20201122140014890](../../img/image-20201122140014890.png)

##### 减法运算与实现

补码按位取反末尾加一

![image-20201122140255882](../../img/image-20201122140255882.png)

![image-20201122140619551](../../img/image-20201122140619551.png)



##### 加法器的优化

![image-20201122140945747](../../img/image-20201122140945747.png)



延迟

![image-20201122141233896](../../img/image-20201122141233896.png)

![image-20201122141329623](../../img/image-20201122141329623.png)

![image-20201122142624790](../../img/image-20201122142624790.png)



![image-20201122142837290](../../img/image-20201122142837290.png)



三级门延迟提前计算进位

![image-20201122142958980](../../img/image-20201122142958980.png)

**超前进位加法器**

![image-20201122143030808](../../img/image-20201122143030808.png)

![image-20201122143053952](../../img/image-20201122143053952.png)

![image-20201122143108360](../../img/image-20201122143108360.png)

![image-20201122143129303](../../img/image-20201122143129303.png)





##### 乘法的实现

![image-20201122150254072](../../img/image-20201122150254072.png)

![image-20201122150309849](../../img/image-20201122150309849.png)

![image-20201122150326191](../../img/image-20201122150326191.png)



![image-20201122150337286](../../img/image-20201122150337286.png)

##### 乘法器的实现

![image-20201122152201721](../../img/image-20201122152201721.png)

![image-20201122152301415](../../img/image-20201122152301415.png)

![image-20201122152418669](../../img/image-20201122152418669.png)

##### 乘法器的优化

<img src="../../img/image-20201122153151473.png" alt="image-20201122153151473" style="zoom: 33%;" />











#### 3-5 组合逻辑控制方式

![image-20201122141626866](../../img/image-20201122141626866.png)

  





### 4.存储器

```
1、按存储原理分：（即不同的存储介质）
       （1）半导体存储器
       （2） 磁表面存储器：磁盘、磁带、磁鼓、磁卡等
      （3） 光盘存储器

```

```
2、按存取方式分：
      （1） 随机存取存储器  （RAM）：分为SRAM，DRAM
       （2） 只读存储器 （ROM）：如CM
       （3）顺序存取存储器 （SAM）: 如磁带
       （4）直接存取存储器   （DAM）:如磁盘

```

##### 三级存储体系

![image-20201121215748750](../../img/image-20201121215748750.png)



![image-20201121220147121](../../img/image-20201121220147121.png)

**![image-20201121220339339](../../img/image-20201121220339339.png)**

**虚拟存储技术**

![image-20201121220921414](../../img/image-20201121220921414.png)

![image-20201121220957513](../../img/image-20201121220957513.png)

![image-20201121221109791](../../img/image-20201121221109791.png)

![image-20201121221217002](../../img/image-20201121221217002.png)

![image-20201121221256869](../../img/image-20201121221256869.png)

![image-20201121221404462](../../img/image-20201121221404462.png)





##### 双通道内存条

![image-20201121221953430](../../img/image-20201121221953430.png)

### 5.总线与I/O子系统

![image-20201121222445816](../../img/image-20201121222445816.png)

![image-20201121222519743](../../img/image-20201121222519743.png)

![image-20201121222534021](../../img/image-20201121222534021.png)

![image-20201121222559850](../../img/image-20201121222559850.png)



（3）预处理
（4）控制逻辑

![image-20201121222756626](../../img/image-20201121222756626.png)

![image-20201121222855581](../../img/image-20201121222855581.png)





##### 中断向量表

![image-20201122133020566](../../img/image-20201122133020566.png)



![image-20201122133038329](../../img/image-20201122133038329.png)

![image-20201122133045930](../../img/image-20201122133045930.png)



![image-20201122133052747](../../img/image-20201122133052747.png)



、INTO检查是否存在起初中断 INT4 ![image-20201122133104668](../../img/image-20201122133104668.png)

![image-20201122133122605](../../img/image-20201122133122605.png)

![image-20201122133145935](../../img/image-20201122133145935.png)

![image-20201122133154576](../../img/image-20201122133154576.png)

##### 断掉设置

![image-20201122133207269](../../img/image-20201122133207269.png)

![image-20201122133219077](../../img/image-20201122133219077.png)



##### 内部中断特点

![image-20201122133241157](../../img/image-20201122133241157.png)

![image-20201122133256592](../../img/image-20201122133256592.png)

![image-20201122133305528](../../img/image-20201122133305528.png)



![image-20201122133325059](../../img/image-20201122133325059.png)

![image-20201122133333048](../../img/image-20201122133333048.png)

![image-20201122133344377](../../img/image-20201122133344377.png)

##### DOS中断调用

![image-20201122133406758](../../img/image-20201122133406758.png)

#### 外设与外部中断



![image-20201122133741012](../../img/image-20201122133741012.png)

![image-20201122133755864](../../img/image-20201122133755864.png)



![image-20201122133806546](../../img/image-20201122133806546.png)

**标志M/0=0 代表外设**

![image-20201122133815917](../../img/image-20201122133815917.png)

##### 统一编址

讲内存的部分空间划分给外部I/O

![image-20201122133949935](../../img/image-20201122133949935.png)

模型机

![image-20201122134012996](../../img/image-20201122134012996.png)

##### 统一编址的优缺点

![image-20201122134055229](../../img/image-20201122134055229.png)

![image-20201122134114300](../../img/image-20201122134114300.png)

##### 程序查询传送方式

![image-20201122134200570](../../img/image-20201122134200570.png)

![image-20201122134213004](../../img/image-20201122134213004.png)

![image-20201122134245016](../../img/image-20201122134245016.png)

##### 数据输入输入中断

![image-20201122134419645](../../img/image-20201122134419645.png)

![image-20201122134430324](../../img/image-20201122134430324.png)

![image-20201122134441585](../../img/image-20201122134441585.png)

![image-20201122134449172](../../img/image-20201122134449172.png)

![image-20201122134507121](../../img/image-20201122134507121.png)

![image-20201122134521624](../../img/image-20201122134521624.png)

![image-20201122134530121](../../img/image-20201122134530121.png)



![image-20201122134601820](../../img/image-20201122134601820.png)

![image-20201122134614569](../../img/image-20201122134614569.png)

![image-20201122134627390](../../img/image-20201122134627390.png)

![image-20201122134643337](../../img/image-20201122134643337.png)



#### DMA（直接存储器访问）

直接存储器访问, Direct Memory Access (DMA),数据传送过程不需要CPU干预(不需要执行程序指令)由专门硬件控制电路控制,进行外设与存储器间直接数据传送。

就不需要cpu执行存储器间的数据传输

![image-20201122134833884](../../img/image-20201122134833884.png)

![image-20201122134902874](../../img/image-20201122134902874.png)

![image-20201122134959435](../../img/image-20201122134959435.png)

#### X86体系

![image-20201122135016119](../../img/image-20201122135016119.png)

##### MIPS RISC

![image-20201122135025673](../../img/image-20201122135025673.png)





































##### 实模式与保护模式





##### CPU如何判断地址还是立即数



![image-20201121183944697](../../img/image-20201121183944697.png)

![image-20201121183957017](../../img/image-20201121183957017.png)



问题与疑惑：

为什么cpu字长为32

超级计算机一次能处理多少位是数据

电信号光速对cpu的限制

<img src="../../img/image-20201122134335717.png" alt="image-20201122134335717" style="zoom: 67%;" />

